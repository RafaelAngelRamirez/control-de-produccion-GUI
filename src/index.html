<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Adminpro</title>

    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon.png">

    <!-- Bootstrap Core CSS -->
    <link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous"> -->
    <!-- Custom CSS -->
    <link href="assets/css/style.css" rel="stylesheet">
    <!-- <link href="assets/css/style.scss" rel="stylesheet"> -->
    <!-- You can change the theme colors from here -->
    <link id="tema" id="theme" rel="stylesheet">

    <!-- 
    =====================================
            Plugins agregados por mi
    =====================================
    -->
    <!-- <link href="assets/plugins/clockpicker/dist/jquery-clockpicker.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Color picker plugins css -->
    <!-- <link href="assets/plugins/jquery-asColorPicker-master/css/asColorPicker.css" rel="stylesheet" type="text/css"> -->
    <!-- Date picker plugins css -->
    <!-- <link href="assets/plugins/bootstrap-datepicker/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css" /> -->
    <!-- Daterange picker plugins css -->
    <!-- <link href="assets/plugins/timepicker/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css"> -->
    <!-- <link href="assets/plugins/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css"> -->



    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">

    <!-- Google -->
    <script src="https://apis.google.com/js/platform.js"></script>
    <meta name="google-signin-client_id" content="106809634178-3pc6e4gpfgtbfea8kkm7r7a0n2r8j75v.apps.googleusercontent.com">


</head>

<body class="fix-header card-no-border fix-sidebar">

    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="loader">
            <div class="loader__figure"></div>
            <p class="loader__label">Admin Pro</p>
        </div>
    </div>




    <div id="no_print">
        <app-root></app-root>

    </div>


    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="assets/plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="assets/plugins/bootstrap/js/popper.min.js"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="assets/js/perfect-scrollbar.jquery.min.js"></script>
    <!--Wave Effects -->
    <script src="assets/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="assets/js/sidebarmenu.js"></script>
    <!--stickey kit -->
    <script src="assets/plugins/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <script src="assets/plugins/sparkline/jquery.sparkline.min.js"></script>
    <!--Custom JavaScript -->
    <script src="assets/js/custom.js"></script>


    <!-- QR CODE -->

    <script type="text/javascript" src="assets/js/jsqrcode-master/src/grid.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/version.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/detector.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/formatinf.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/errorlevel.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/bitmat.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/datablock.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/bmparser.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/datamask.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/rsdecoder.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/gf256poly.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/gf256.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/decoder.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/qrcode.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/findpat.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/alignpat.js"></script>
    <script type="text/javascript" src="assets/js/jsqrcode-master/src/databr.js"></script>

    <script src="assets/js/html5-qrcode-master/lib/jsqrcode-combined.min.js"></script>
    <script src="assets/js/html5-qrcode-master/lib/html5-qrcode.min.js"></script>

    <script>
        (function($) {
            jQuery.fn.extend({
                html5_qrcode: function(qrcodeSuccess, qrcodeError, videoError) {
                    return this.each(function() {
                        var currentElem = $(this);

                        var height = currentElem.height();
                        var width = currentElem.width();

                        if (height == null) {
                            height = 250;
                        }

                        if (width == null) {
                            width = 300;
                        }

                        var vidElem = $('<video width="' + width + 'px" height="' + height + 'px"></video>').appendTo(currentElem);
                        var canvasElem = $('<canvas id="qr-canvas" width="' + (width - 2) + 'px" height="' + (height - 2) + 'px" style="display:none;"></canvas>').appendTo(currentElem);

                        var video = vidElem[0];
                        var canvas = canvasElem[0];
                        var context = canvas.getContext('2d');
                        var localMediaStream;

                        var scan = function() {
                            if (localMediaStream) {
                                context.drawImage(video, 0, 0, 307, 250);

                                try {
                                    qrcode.decode();
                                } catch (e) {
                                    qrcodeError(e, localMediaStream);
                                }

                                $.data(currentElem[0], "timeout", setTimeout(scan, 500));

                            } else {
                                $.data(currentElem[0], "timeout", setTimeout(scan, 500));
                            }
                        }; //end snapshot function

                        window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;
                        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;

                        var successCallback = function(stream) {
                            video.src = (window.URL && window.URL.createObjectURL(stream)) || stream;
                            localMediaStream = stream;
                            $.data(currentElem[0], "stream", stream);

                            video.play();
                            $.data(currentElem[0], "timeout", setTimeout(scan, 1000));
                        };

                        // Call the getUserMedia method with our callback functions
                        if (navigator.getUserMedia) {
                            navigator.getUserMedia({
                                video: true
                            }, successCallback, function(error) {
                                videoError(error, localMediaStream);
                            });
                        } else {
                            console.log('Native web camera streaming (getUserMedia) not supported in this browser.');
                            // Display a friendly "sorry" message to the user
                        }

                        qrcode.callback = function(result) {
                            qrcodeSuccess(result, localMediaStream);
                        };
                    }); // end of html5_qrcode
                },
                html5_qrcode_stop: function() {
                    return this.each(function() {
                        //stop the stream and cancel timeouts
                        $(this).data('stream').getVideoTracks().forEach(function(videoTrack) {
                            videoTrack.stop();
                        });

                        clearTimeout($(this).data('timeout'));
                    });
                }
            });
        })(jQuery);


        var qrLeyendo = false;
        var qrData = null;
        var errorFatal = false;

        function qrLeyendo() {
            return qrLeyendo;
        }

        function qrDetener() {
            $('#reader').html5_qrcode_stop();
        }


        function qrCode() {
            qrLeyendo = false;
            $('#reader').html5_qrcode(function(data) {
                    qrLeyendo = true;
                    qrData = data;
                    // Dejamos de leer c√≥digos
                    // $('#reader').html5_qrcode_stop()
                },
                function(error) {
                    // show read errors 
                    qrData = null;
                },
                function(videoError) {
                    // the video stream could be opened
                    qrData = null;
                    errorFatal = true;
                }
            );

        };
    </script>




</body>


</html>