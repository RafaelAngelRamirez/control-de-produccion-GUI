<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <h1 class=""><strong>Modelos</strong> existentes</h1>

          <div class="d-flex  align-items-center ">
            <input
              #inputBusqueda
              (keyup)="buscar(inputBusqueda.value)"
              type="text"
              class="form-control mr-3"
              name="busqueda"
              id="busqueda"
              aria-describedby="busquedahelp"
              placeholder="Buscar un modelo"
            />
          </div>
        </div>
        <hr />

        <app-paginador></app-paginador>

        <table class="table table-hover table-borderless">
          <thead class="">
            <tr>
              <th class="fit"></th>

              <th class="" title="Modelo">
                Modelo
              </th>
              <th class="fit" title="Existencia actual en el almacen">
                Existencia
              </th>
              <th class="fit" title="Existencia minima">
                MIN
              </th>
              <th class="fit" title="Existencia maxima">
                MAX
              </th>

              
            </tr>
          </thead>
          <tbody>
            <tr
            class="fit"
              *ngFor="let mc of modelosCompletos"
              [ngClass]="{
                'bg-danger text-white ':
                  !mc.existencias || mc.existencias === 0
              }"
            >
              <td class="fit">
                <a
                  (click)="modeloCompletoDetalle = mc"
                  class="btn  text-white btn-primary btn-xs mr-1"
                  role="button"
                  data-toggle="modal"
                  data-target="#modeloCompletoDetalle"
                >
                  <i class="fas fa-eye    "></i>
                </a>
                <a
                 
                  class="btn  text-white btn-warning btn-xs mr-1"
                  role="button"
                  title='Entrada de boton'
                
                >
                  <i class="fas fa-plus    "></i>
                </a>
                <a
                  
                  class="btn  text-white btn-success btn-xs mr-1"
                  role="button"
                  title='Salida de boton'
                 
                >
                  <i class="fas fa-minus    "></i>
                </a>
              </td>
              <td class="no-wrap fit">{{ mc.nombreCompleto }}</td>
              <td>
                <ng-container *ngIf="mc.existencias">
                  {{ mc.existencias | number: "0.0-0" }}
                </ng-container>
                <ng-container *ngIf="!mc.existencias || mc.existencias === 0">
                  0
                </ng-container>
              </td>

              <td
                [ngClass]="{
                  'bg-dark text-white': mc.stocMinimo >= mc.existencias 
                }"
              >
                {{ mc.stockMinimo }}
              </td>
              <td
              [ngClass]="{
                'bg-warning': mc.existencias >= mc.stockMaximo
              }"
              >
                {{ mc.stockMaximo }}
              </td>
            </tr>
          </tbody>
        </table>
        <app-paginador></app-paginador>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="modeloCompletoDetalle"
  tabindex="-1"
  role="dialog"
  aria-labelledby="modelTitleId"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <h1>detalles de la existencia.</h1>
      </div>
    </div>
  </div>
</div>
